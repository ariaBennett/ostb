<!DOCTYPE HTML>
<html ng-app="ostb">

  <head>
    <title>Index</title>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="app.js"></script>
    <script src="controllers/controllers.js"></script> 
    <script src="directives/directives.js"></script> 
    <script src="factories/usersFactory.js"></script>
    <script src="factories/projectsFactory.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,500,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,300,700,100' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">


    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <script src="/lib/showdown.js" type="text/javascript"></script>
    <script src="http://ajaxorg.github.com/ace/build/src/ace.js"></script>
    <script src="/channel/bcsocket.js"></script>
    <script src="/share/share.uncompressed.js"></script>
    <script src="/share/ace.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  </head>

  <body>
    <div ng-controller="IndexController" style="height: 100%; width: 100%;">
      <!-- top navbar area --> 
      <div style="height:9%; width: 100%;"> 
        <!-- Navbar is included on every page -->
        <div id="navbar">
          <!-- Left Buttons --> 
          <span style="float: left;"><ul class="editNav">
            <div id="navTextOSTB">OSTB</div>
          </ul></span>
          <!-- Right Buttons --> 
          <span style="float: right;"><ul class="editNav">
            <div id="navTextLogout">Logout</div>
            <div id="navTextAccount">Account</div>
            <div id="navTextDashboard">Dashboard</div>
          </ul></span>
          <!-- bottom border -->
          <img src="images/navbar_border_color.gif" id="navBorder"></img>
        </div>
      </div>

      <!-- test stuff below -->
      <h1>This is our index</h1>

      <h3>State: {{a}}</h3>

      <!-- <a ui-sref="editor">Editor</a> -->
      <a ui-sref="editor">Editor</a>
      <a ui-sref="example">Example</a>
      <br>

      <p>Project CRUD tests:</p>
      <p>Your express instance will create a user_data dir witin the repo dir. This is where repo information will be stored. These modals will throw errors for which should be valid workflows to the error. (ie. there will never be a situation where you create a project w/o knowing the user.)</p>
      <div ng-controller='UsersController'>
        <button ng-click='toggleModal()'>Create New User</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>New User</h3>
          <form ng-submit='createUser(user)'>
            Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="Your Username" ng-model="user.username"><br>
            <div><input type="submit" value="Submit"></div>
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>

      <div ng-controller='UsersController'>
        <button ng-click='toggleModal()'>Delete User</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>Delete User</h3>
          <form ng-submit='deleteUser(user)'>
            Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="Username" ng-model="user.username"><br>
            <div><input type="submit" value="Submit"></div>
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>
      <br>

      <div ng-controller='ProjectsController'>
        <button ng-click='toggleModal()'>Create New Project</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>New Project</h3>
          <form ng-submit='createProject(project)'>
            Project Name:
            <br>
            <input style="width: 300px;" type="text" placeholder="Your Project Name" ng-model="project.repo"><br>
            Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="USERNAME" ng-model="project.username"><br>
            <div><input type="submit" value="Submit"></div>
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>

      <div ng-controller='ProjectsController'>
        <button ng-click='toggleModal()'>Clone Project</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>Clone Project</h3>
          <form ng-submit='cloneProject(project)'>
            Project Name:
            <br>
            <input style="width: 300px;" type="text" placeholder="Project Name" ng-model="project.repo"><br>
            Clone to Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="clone to USERNAME" ng-model="project.username"><br>
            Clone from Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="clone from USERNAME" ng-model="project.owner"><br>
            <div><input type="submit" value="Submit"></div>
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>

      <div ng-controller='ProjectsController'>
        <button ng-click='toggleModal()'>Delete Project</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>Delete Project</h3>
          <form ng-submit='deleteProject(project)'>
            Project Name:
            <br>
            <input style="width: 300px;" type="text" placeholder="Your Project Name" ng-model="project.repo"><br>
            Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="USERNAME" ng-model="project.username"><br>
            <div><input type="submit" value="Submit"></div>
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>
      
      <div ng-controller='ProjectsController'>
        <button ng-click='toggleModal()'>Commit Version</button>
        <modal-dialog show='modalShown' width='400px' height='60%'>
          <h3>Save New Version</h3>
          <form ng-submit='commitProject(project)'>
            Project Name:
            <br>
            <input style="width: 300px;" type="text" placeholder="Your Project Name" ng-model="project.repo"><br>
            Username:
            <br>
            <input style="width: 300px;" type="text" placeholder="USERNAME" ng-model="project.username"><br>
            Version Name:
            <br>
            <input style="width: 300px;" type="text" placeholder="use a name that describes your changes..." ng-model="project.commitMessage"><br>
            content.md:
            <br>
            <input style="width: 300px;" type="text" placeholder="this text overwrites the file content" ng-model="project.content"><br>
            <input type="submit" value="Submit">
          </form>
          <div style="color:red;">{{error}}</div>
        </modal-dialog>
      </div>

      <p>Your content is served below in ui-view="content"</p>
      <div ui-view="content"></div>
      
    </div>
  </body>
</html>
